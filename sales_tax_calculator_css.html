<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style_sales.css" />
    <title>Mathisu3</title>
</head>
<body>
    <a href="index.html">
        <button class="button">
            <svg class="svgIcon" viewBox="0 0 384 512">
            <path
                d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"
            ></path>
            </svg>
        </button>
        </a>
<!-- From Uiverse.io by kennyotsu-monochromia --> 
<div class="wrapper">
    <input type="checkbox" id="toogle" class="hidden-trigger">
    <label for="toogle" class="circle">
  <svg class="svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="48" height="48" xml:space="preserve" version="1.1" viewBox="0 0 48 48">
      <image width="48" height="48" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAbElEQVR4Ae3XwQnFQAiE4eVVsGAP1mkPFjwvQvYSWCQYCYGZv4Dv5MGB5ghcIiDQI+kCftCzNsAR8y5gYu2rwCBAgMBTgEC3rek2yQEtAZoDjso8AyaKexmIDJUZD40AAQIE0gwx449GgMC9/t0b7GTsa7J+AAAAAElFTkSuQmCC"></image>
    </svg>
    </label>
    
    <div class="subs">
      <button class="sub-circle">
        <input value="1" name="sub-circle" type="radio" id="sub1" class="hidden-sub-trigger">
        <label for="sub1">CAD</label>
      </button>
      <button class="sub-circle">
        <input value="1" name="sub-circle" type="radio" id="sub2" class="hidden-sub-trigger">
        <label for="sub2">USD</label>
      </button>
      <button class="sub-circle">
        <input value="1" name="sub-circle" type="radio" id="sub3" class="hidden-sub-trigger">
        <label for="sub3">INR</label>
      </button>
      <button class="sub-circle">
        <input value="1" name="sub-circle" type="radio" id="sub4" class="hidden-sub-trigger">
        <label for="sub4">EUR</label>
      </button>
      <button class="sub-circle">
        <input value="1" name="sub-circle" type="radio" id="sub5" class="hidden-sub-trigger">
        <label for="sub5">CNY</label>
      </button>
      <button class="sub-circle">
        <input value="1" name="sub-circle" type="radio" id="sub6" class="hidden-sub-trigger">
        <label for="sub6">AUD</label>
      </button>
      <button class="sub-circle">
        <input value="1" name="sub-circle" type="radio" id="sub7" class="hidden-sub-trigger">
        <label for="sub7">JPY</label>
      </button>
      <button class="sub-circle">
        <input value="1" name="sub-circle" type="radio" id="sub8" class="hidden-sub-trigger">
        <label for="sub8">GBP</label>
      </button>
     </div>
  </div>



  <!--right side-->




  <div class="wrapper1">
    <input type="checkbox" id="toogle1" class="hidden-trigger1">
    <label for="toogle1" class="circle1">
  <svg class="svg1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="48" height="48" xml:space="preserve" version="1.1" viewBox="0 0 48 48">
      <image width="48" height="48" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAbElEQVR4Ae3XwQnFQAiE4eVVsGAP1mkPFjwvQvYSWCQYCYGZv4Dv5MGB5ghcIiDQI+kCftCzNsAR8y5gYu2rwCBAgMBTgEC3rek2yQEtAZoDjso8AyaKexmIDJUZD40AAQIE0gwx449GgMC9/t0b7GTsa7J+AAAAAElFTkSuQmCC"></image>
    </svg>
    </label>
    
    <div class="subs1">
      <button class="sub-circle1">
        <input value="1" name="sub-circle1" type="radio" id="sub11" class="hidden-sub-trigger1">
        <label for="sub11">CAD</label>
      </button>
      <button class="sub-circle1">
        <input value="1" name="sub-circle1" type="radio" id="sub21" class="hidden-sub-trigger1">
        <label for="sub21">USD</label>
      </button>
      <button class="sub-circle1">
        <input value="1" name="sub-circle1" type="radio" id="sub31" class="hidden-sub-trigger1">
        <label for="sub31">INR</label>
      </button>
      <button class="sub-circle1">
        <input value="1" name="sub-circle1" type="radio" id="sub41" class="hidden-sub-trigger1">
        <label for="sub41">EUR</label>
      </button>
      <button class="sub-circle1">
        <input value="1" name="sub-circle1" type="radio" id="sub51" class="hidden-sub-trigger1">
        <label for="sub51">CNY</label>
      </button>
      <button class="sub-circle1">
        <input value="1" name="sub-circle1" type="radio" id="sub61" class="hidden-sub-trigger1">
        <label for="sub61">AUD</label>
      </button>
      <button class="sub-circle1">
        <input value="1" name="sub-circle1" type="radio" id="sub71" class="hidden-sub-trigger1">
        <label for="sub71">JPY</label>
      </button>
      <button class="sub-circle1">
        <input value="1" name="sub-circle1" type="radio" id="sub81" class="hidden-sub-trigger1">
        <label for="sub81">GBP</label>
      </button>
     </div>
  </div>
  <h1 class="convert_from">From:</h1>
  <h1 class="convert_to">To:</h1>
  <h1 class="title">Converter:</h1>
  <div class="form-control">
    <input type="text" required="" id="inputField" pattern="[0-9]*\.?[0-9]*" inputmode="decimal" />
        <label>
          <span style="transition-delay: 0ms">E</span
          ><span style="transition-delay: 50ms">n</span
          ><span style="transition-delay: 100ms">t</span
          ><span style="transition-delay: 150ms">e</span
          ><span style="transition-delay: 200ms">r</span
          ><span style="transition-delay: 250ms"> </span
          ><span style="transition-delay: 300ms">v</span
          ><span style="transition-delay: 350ms">a</span
          ><span style="transition-delay: 400ms">l</span
          ><span style="transition-delay: 450ms">u</span
          ><span style="transition-delay: 500ms">e</span>
          ><span style="transition-delay: 550ms">:</span>
      </label>
      </div>
  <h1 class="output"></h1>
  <script>
const inputField = document.getElementById('inputField');
const outputElement = document.querySelector('.output');
const FIXER_API_KEY = '623b4ebae49822f07be91b4f0b1c55de';
let exchangeRates = {};

// Fetch latest rates from Fixer.io
async function fetchExchangeRates() {
    try {
        const response = await fetch(`http://data.fixer.io/api/latest?access_key=${FIXER_API_KEY}&base=EUR`);
        const data = await response.json();
        
        if (!data.success) {
            throw new Error(data.error.type);
        }
        
        exchangeRates = data.rates;
        console.log('Exchange rates updated:', exchangeRates);
    } catch (error) {
        console.error('Error fetching rates:', error);
        outputElement.textContent = 'Error fetching exchange rates';
    }
}

function convertViaEUR(amount, fromCurrency, toCurrency) {
    if (fromCurrency === toCurrency) return amount;
    
    // Convert to EUR first (base currency), then to target currency
    const amountInEUR = amount / exchangeRates[fromCurrency];
    return amountInEUR * exchangeRates[toCurrency];
}

async function convertCurrency() {
    const fromCurrency = document.querySelector('.subs input[type="radio"]:checked');
    const toCurrency = document.querySelector('.subs1 input[type="radio"]:checked');
    
    if (!fromCurrency || !toCurrency) {
        outputElement.textContent = 'Please select both currencies';
        return;
    }

    const fromCode = fromCurrency.nextElementSibling.textContent;
    const toCode = toCurrency.nextElementSibling.textContent;
    const amount = parseFloat(inputField.value);
    
    if (isNaN(amount)) {
        outputElement.textContent = 'Please enter a valid number';
        return;
    }

    try {
        // Ensure we have exchange rates
        if (Object.keys(exchangeRates).length === 0) {
            outputElement.textContent = 'Fetching latest rates...';
            await fetchExchangeRates();
        }

        const result = convertViaEUR(amount, fromCode, toCode);
        
        // Display result with appropriate decimal places
        const decimals = toCode === 'JPY' ? 0 : 2;
        outputElement.textContent = `${amount} ${fromCode} = ${result.toFixed(decimals)} ${toCode}`;
    } catch (error) {
        console.error('Error converting currency:', error);
        outputElement.textContent = 'Error converting currency';
    }
}

// Keep existing event listeners
inputField.addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        convertCurrency();
    }
});

// Input validation
inputField.addEventListener('input', function(e) {
    this.value = this.value.replace(/[^0-9.]/g, '');
    if(this.value.split('.').length > 2) {
        this.value = this.value.replace(/\.+$/, '');
    }
});

inputField.addEventListener('paste', function(e) {
    e.preventDefault();
    const pastedText = (e.clipboardData || window.clipboardData).getData('text');
    if(!isNaN(pastedText)) {
        this.value = pastedText;
    }
});

// Fetch rates when page loads
fetchExchangeRates();

// Update rates every hour (note: free plan has limited requests)
setInterval(fetchExchangeRates, 3600000);
</script>
</body>
</html>



